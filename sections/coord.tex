\section*{Collaboration Plan \pagebudget{2}}\label{appendix:coord}

% \todo{GPG: The length of and degree of detail provided in the Collaboration Plan should be commensurate with the complexity of the proposed project. Where appropriate, the Collaboration Plan might include: 1) the specific roles of the project participants in all organizations involved; 2) information on how the project will be managed across all the investigators, organizations, and/or disciplines; 3) identification of the specific coordination mechanisms that will enable cross-investigator, cross-organization, and/or cross-discipline scientific integration (e.g., yearly conferences, graduate student exchange, project meetings at conferences, videoconferences, software repositories, etc.); and 4) specific references to the budget line items that support collaboration and coordination mechanisms.}

The core personnel for this project include the two co-PIs, two PhD
students (one in PL, one in HCI),
and three funded undergraduate interns hosted through the summer REPL
program (see the BPC supplement). As opportunities present, additional
undergraduate and master's students will be involved in research for
course credit.
Figure~\ref{fig:workplan} shows our planned timeline. Tasks are colored
to highlight sub-programs of work that will constitute the
dissertations for the PL and HCI PhD students.

Since all team members will have offices in the same building on
Penn's campus, we do not envisage any significant costs specifically
associated with management and coordination.

\subsection*{Project Roles}

\paragraph*{Principal Investigators.}
%
The PIs are well-positioned to co-lead an effort whose success
requires deep contributions from both PL and HCI.  Andrew Head
recently co-founded a new HCI group at the University of Pennsylvania
and specializes in interactive programming environments, while
Benjamin Pierce has published widely on PL topics---including, for the
past several years, the theory and practice of PBT.  Head and Pierce
already have an established collaboration, with two jointly supervised
PhD students.
%  (Harrison Goldstein, who is leading the Jane Street
% interview study, and Jessica Shi, who is developing a project around
% user interfaces for proof assistants)

The proposed project will be a main focus for both PIs during the
whole three years.  Two summer months are allocated to each PI for this
reason. Formally, PI Head will supervise the HCI-focused PhD
student, while PI Pierce will supervise the PL-related PhD students. Informally,
both PhD students will receive frequent and significant mentorship from both co-PIs.
The PIs will jointly lead educational efforts at
the undergraduate and master's levels.

\newcommand{\ROLE}[5]{
  \smallskip \noindent {\bf #1, #2.  Project: {\em #3}.}
  #4
% (Skills: #5)
}

\newcommand{\ROLENOSKILLS}[4]{
  \smallskip \noindent {\bf #1, #2.  Project: {\em #3}} \\
  #4}

% Was: Foundations + Interaction
\ROLE{PhD 1}{advised by PI Head}{HCI (Foundations + Interaction)}{%
The first PhD student will develop foundational knowledge about the practice of PBT and leverage this knowledge to develop novel interactive systems for PBT. Their work will begin with surveys that develop an exansive set of opportunities for improving PBT. Then, PhD 1 will design novel interactions for evaluating and tuning input distributions. These interfaces will build on technology for reflective generators that have been developed by the team broadly. The work of PhD 1 will culminate in the development of the \tyche{} IDE. PhD 1 will also play a supporting role in language design efforts led by PhD 2.
}{Qualitative HCI + HCI Systems}

\ROLE{PhD 2}{advised by PI  Pierce}{PL (Generation + Specification)}{%
The second PhD student will develop novel PL approaches for generation and specification. They will lead three projects: refinement of techniques for reflective generation, the design of language features for reflective generation, and developing a programming assistant for writing specifications. In parallel, PhD 2 will oversee 3 PL-related REPL projects (see below).
}{PL Theory + PL Language Design}

\vspace{-1em}
\paragraph*{REPL undergraduate student interns.}

3 undergraduate students will be recruited through the Penn PL REPL program and funded through this project. They will be assigned to projects with clear definition and tighter scopes, and which therefore are likely to afford a productive and rewarding REU experience. One undergraduate student will be recruited each summer. The bulk of their work will be done during the summer, and cleanup and paper submission will take place during the remainder of the following year. Each of these projects will be closely supervised by the PIs and by PhD 2 (who specializes in PL). These projects include the refinement and application of the benchmark suite, development of the \Mica{} system for model-based testing, LTLTL for authoring specifications over temporal log data.

% The first PhD student
%   will develop foundational knowledge to support the human-centered
%   design and development of PBT tools. This work will begin with
%   defining a preliminary theory of PBT on the basis of our studies to
%   date, with a set of falsifiable hypotheses about how tooling
%   supports PBT. Then, the student will conduct a survey to expand and
%   generalize our understanding of barriers, conduct critical
%   comparative studies of existing PBT solutions, and assist in the
%   conduct of formative observational studies related to tool-building
%   efforts.

% The fourth PhD student
% will design, implement, and evaluate interactive views that provide programmers
% with powerful controls for influencing testing effectiveness. They will first
% develop tools that support the live viewing and analysis of complex
% distributions of generated data. Then, drawing on the reflective
% generators developed by PhD 2, they will introduce controls
% for
% programmers to influence the behavior of generators through direct
% manipulation. The PhD  student will also design tools that support
% the
% understanding of individual inputs with novel features for interactive shrinking
% and debugging. Select views will be brought together and refined to make testing
% dashboards suitable for monitoring the outcomes of random PBT tests in
% professional software development
% settings.

% Many of the aforementioned projects---particularly those listed under
% the Diffusion theme~(\sectionref{sec:diffusion})---include technology
% transfer activities that bring research ideas into practice. Our staff
% engineer will lead these tech transfer activities, including
% re-implementing reflective generators in existing PBT frameworks,
% improving library designs as per recommendations from PhD 2,
% maintaining the tools produced by PhD 3, etc.  They will also assist
% with implementation-oriented research activities, in particular
% \tyche. We consulted with an industry hiring manager to budget for a
% competitive salary for this engineer; they have agreed to assist us with
% best-practices for interviewing. We will look for a developer 2-3 years
% out of college with experience with open source and multiple
% programming languages.

% The second PhD student will develop the PL theory necessary to enable new classes of powerful PBT
% generation tools. Central to this PhD will be the advancement of work on
% reflective generators, a powerful abstraction for producing random data, with
% potential to support tunability of distributions and sophisticated shrinking
% techniques. This student will also develop the PBT benchmark
% suite. Further efforts
% will involve the assessment of the usability of reflective output with the
% assistance of HCI PhD student 1, and the improvement of language design for
% generator automation.

% The third PhD student
% will advance programming languages for specification. Their goal will be to
% enhance the expressiveness and understandability of specifications. Their work
% will begin by making specification languages more powerful by supporting
% formulation of properties across module boundaries, and the more efficient
% specification of model-based properties. They will then explore how to improve
% the walk-up-and-use experience of specification languages by building tools for
% mixed-initiative property specification and understanding the meaning of
% properties. Their work will conclude with developing technology for
% converting between property-based specifications into singular test-case
% specifications to serve as regression tests.

% \ROLE{PhD 1}{Advisor  Pierce}{Reflecting on Random Generation}{This PhD student will focus on reflective generators, a powerful abstraction for producing random data. They will finish developing the theoretical abstraction and then continue by working closely with our staff engineer to implement and evaluate testing tools that rely on reflective generators as a foundation. This student will also work with undergraduate students to implement orthogonal testing tools.}{PL, Some HCI}

% \ROLE{PhD 2}{Advisor  Head}{Human-Centered Foundations of Property-Based Testing}{This PhD student will develop a robust theory of property-based testing from a user-centered perspective. They will start by finishing ongoing work with Jane Street. Then they will do further foundational studies to understand finer-grained aspects of PBT usability and make recommendations for the design of future PBT tools and curricula.}{HCI, Some PL}

% \ROLE{PhD 3}{Advisors  Head and  Pierce}{"In Your Face" Property-Based Testing}{This PhD student will build tools for PBT that integrate the testing process into a programmer's editing environment. They will use human-centered methods to design and implement tools that users will actually see value in, and they will significantly increase the potential adoption of PBT by putting it easily within reach.}{HCI, PL}

% \ROLE{PhD 4}{Advisors  Head and  Pierce}{Teaching Lightweight Formal Methods}{This PhD student will approach PBT from the perspective of an educator, asking how students and industry professionals can better succeed at learning to use the tools involved. They will develop curricula for teaching PBT, and they will also ask more fundamental questions about how users understand executable properties. This work will dove-tail with ongoing work at Penn about human-centered aspects of other kinds of properties (e.g., theorems in proof assistants).}{Education, Some PL, Some HCI}

%


% \begin{figure}[tbp]
% \centering
% \newcolumntype{L}[1]{>{\hsize=#1\hsize\raggedright\arraybackslash}X}%
% \begin{tabularx}{\textwidth}{|L{.1}|L{.1}|L{.2}|L{.6}||}
% \hline
% Name & Advisor & Project Title & Description & Skills
% \\
% \hline
% PhD 1 & PI Pierce & Reflecting on Random Generation & This PhD student will focus on reflective generators, a powerful abstraction for producing random data. They will finish developing the theoretical abstraction and then continue by working closely with our staff engineer to implement and evaluate testing tools that rely on reflective generators as a foundation. This student will also work with undergraduate students to implement orthogonal testing tools. & PL, Some HCI
% \\
% \hline
% PhD 2 & PI Head & Human-Centered Foundations of Property-Based Testing & This PhD student will develop a robust theory of property-based testing from a user-centered perspective. They will start by finishing ongoing work with Jane Street. Then they will do further foundational studies to understand finer-grained aspects of PBT usability and make recommendations for the design of future PBT tools and curricula. & HCI, Some PL
% \\
% \hline
% PhD 3 & PI Head and PI Pierce (co-Advised) & "In Your Face" Property-Based Testing & This PhD student will build tools for PBT that integrate the testing process into a programmer's editing environment. They will use human-centered methods to design and implement tools that users will actually see value in, and they will significantly increase the potential adoption of PBT by putting it easily within reach. & HCI, PL
% \\
% \hline
% PhD 4 & PI Head and PI Pierce (co-Advised) & Teaching Lightweight Formal Methods & This PhD student will approach PBT from the perspective of an educator, asking how students and industry professionals can better succeed at learning to use the tools involved. They will develop curricula for teaching PBT, and they will also ask more fundamental questions about how users understand executable properties. This work will dove-tail with ongoing work at Penn about human-centered aspects of other kinds of properties (e.g., theorems in proof assistants). & Education, Some PL, Some HCI
% \\
% \hline
% Engineer & N/a & Property-Based Testing in the Wild & Many of the aforementioned projects include or would benefit from technology transfer activities that bring research ideas into practice. Our staff engineer will assist with this transfer, interfacing with existing open source communities to maintain, improve, and popularize frameworks for PBT in a number of popular programming languages. This will include, but not be limited to: implementing reflective generators in existing frameworks, improving library designs as per recommendations from PhD 2, maintaining the tools produced by PhD 3, etc. & Engineering
% \\
% \hline
% \end{tabularx}
% \caption{PhD student and engineer roles}
% \label{fig:duties}
% \end{figure}

\subsection*{Timeline}

The work of the project will take place over the course of three years.
Figure~\ref{fig:workplan} shows our anticipated cadence for starting and
completing the project tasks, colored according to
which PhD student (or, in a few cases, to-be-determined undergraduate
interns and PIs) will
lead each task.
%
Two PhD students will be recruited prior to the first year of the project.  Work at the beginning
of the project will focus on understanding
opportunities and challenges for PBT via user research,
as well as extending our recent work on generator technology
and benchmark tools.
In the second year,
we will launch efforts in specification tools, deep observational
studies, and the development of novel user interfaces, beginning
to develop the \tyche{} IDE. The final year
will complete these threads of work.
Undergraduate education is a continuous thread.
Each year will host one undergraduate REPL project.

% \iflater
% \bcp{Here's some old test, but I think it needs to be
%   rewritten... it should basically narrate the timeline figure as it
%   now stands, year by year.  Indeed, we could have paragraphs labeled
%   ``Year 1,'' etc.}

% Early efforts will focus on strengthening foundations and
% motivations---in particular, strengthening and generalizing the
% findings from our need-finding research to-date. Also beginning in
% year 1, we will develop PL techniques for which we have strong
% motivation, and which will form the backbone of later interactive
% systems. This includes the development of reflective generators,
% shrinkers, and fuzzers.  \todolast{Not sure whether to include this:
%   Initially, these efforts will be led by PhD candidate Harrison
%   Goldstein, who has developed the preliminary work in these areas
%   cited in the proposal.}

% HCI-based tool-building will begin in earnest in year 2, once the
% foundations have been established. This will take place in parallel
% with observations of developers undertaking PBT for the particular
% tasks the tools are meant to support. Some of these projects, most
% notably the ability to tune data distributions, will require tight
% coordination between the PL and HCI student.  Other projects,
% including tooling for evaluating data distributions and and
% counterexamples as regression tests, are less tightly coupled.

% Educational initiatives will take place throughout the project. PBT
% instruction will be incorporated into the data science classroom in
% the first year, and iteratively improved after reviewing course
% outcomes in each successive year. Our efforts to teach developers when
% to leverage properties will occur mostly in the first two
% years\todolater{doesn't match the figure} in
% parallel with our formative research. Tool-building for the classroom
% will take place in the final two years, after we have established a
% strong instructional core for teaching PBT at Penn.
% \fi

\renewcommand{\tasksection}{\tasksectiongantt}
\newcommand{\explaincolor}[2]{{\color{#2}\rule{1em}{1em}} = #1}
\begin{figure}[t]
  \centering
 \begin{ganttchart}[
      expand chart=.9\textwidth,
      y unit chart=.4cm,
      % bar label node/.append style={
      %   text width=15cm
      % }
      %   vgrid
    ]{1}{3}
% \gantttitle{Ongoing}{1}
  \gantttitle{Year 1}{1}
  \gantttitle{Year 2}{1}
  \gantttitle{Year 3}{1}
  % \gantttitle{Year 4}{1}
  % \gantttitle{Year 5}{1}
  % \\ \ganttbar
  %      [bar/.append
  %         style={fill=green}]
  %      {\hbox to 3in{\bf Foundation \hfill \footnotesize Task}}
  %      {1}{3}
  \input{main.workplan}
\end{ganttchart}
\caption{Project timeline, colored by the person responsible for
  the main effort on each task.
  % \explaincolor{PL Theory}{\pltheorycolor},
  % \explaincolor{PL Practice}{\plpracticecolor},
  % \explaincolor{HCI Theory}{\hcitheorycolor},
  % \explaincolor{HCI Practice}{\hcipracticecolor},
  % \explaincolor{Tech Transfer}{\techtransfercolor},
  % \explaincolor{Education}{\educationcolor}.
  \explaincolor{PhD 1 (HCI focus)}{\phdonecolor},
  \explaincolor{PhD 2 (PL focus)}{\phdtwocolor},
  \explaincolor{REPL undergraduate students}{\replcolor},
  % \explaincolor{PhD 3}{\phdthreecolor},
  % \explaincolor{PhD 4}{\phdfourcolor},
  % \explaincolor{Research Engineer}{\engineercolor},
  \explaincolor{PIs}{\facultycolor}.
  % \explaincolor{Supervised by Pierce}{\piercecolor},
  % \explaincolor{Supervised by Head}{\headcolor},
  % \explaincolor{Co-supervised}{\bothcolor}.
  }
\label{fig:workplan}
\end{figure}

% \renewcommand{\tasksection}{\tasksectionroles}
% \begin{figure}[t]
% \centering
% \begin{tabular}[c]{@{}llll}
%   {\bf Themes and Tasks} & {\bf Main effort} & {\bf Support}
%   & {\bf Supervisor}
%   % & {\bf Category}
% \\
%   \hline
%   \input{main.workplan}
% \end{tabular}
% \vspace*{-2ex}
% \caption{Project themes, tasks, and personnel in detail.}
% \label{fig:roles}
% \end{figure}

\subsection*{Coordination Mechanisms}

The main coordination mechanism for the project will be weekly group
meetings for the entire project team---PIs, PhD students, undergraduates, and master's students.
%
Each PI will also meet weekly with the PhD students working under
their primary supervision.
%
Slack and email will be used for daily team communications.  Git will
be used for software development and writing.

Given the cross-disciplinary nature of the project agenda, it will be
important for all team members to have an appreciation of key methods
and conceptual tools from both PL and HCI.  The four PhD students will
be encouraged to take both Penn's core PL theory course (CIS 5000,
{\em Software Foundations}), and our new PhD-level HCI course (CIS
5120, {\em Introduction to Human-Computer Interaction}).

Five unfunded external collaborators---John Hughes, Hila Peleg,
Leonidas Lampropoulos, Zac Hatfield-Dodds, and Chris
Callison-Burch---will assist with various project activities, as
described in the Project Description.  Letters of collaboration can be
found in the Supplemental Documents.

One measure of success in team coordination will be co-ownership of
project tasks and co-authorship on publications---concretely, the
majority of papers should include both a ``PL author'' and
``HCI author.''

\subsection*{Success Metrics}

One major benefit of
HCI methodologies is that they are self-validating---tools are built with users
in the loop and evaluated in user studies before being shipped.
Each tool-building project will include design justifications and
evaluation based on user feedback, and the more theoretical
projects will be measured by their ability to support user-facing tools.
%
We also plan to verify that our improvements to the ecosystem for PBT
actually drive increased adoption, measured by
downloads of our \tyche{} IDE.
%
% Success of our educational efforts will also be measured by uptake: We
% will advertise our PBT course materials in educational circles
% (directly to colleagues and indirectly through a paper
% submitted to the CS in Education conference), aiming to see them used
% by at least 10 universities by the end of the project.
%
Finally, the
success of especially the more foundational threads will, as usual, be measured
partly in publications.  We will target top venues in PL (e.g., ICFP, PLDI,
OOPSLA, and POPL), HCI (e.g., CHI, UIST, and VL/HCC), Software Engineering
(e.g., ICSE and FSE), and CS Education (Koli Calling).

\clearpage
